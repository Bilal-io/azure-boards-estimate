pool:
    name: Hosted VS2017
    demands: npm

steps:
    - task: Npm@1
      displayName: "npm install"
      inputs:
          verbose: false

    - task: Npm@1
      displayName: "npm custom"
      inputs:
          command: custom
          verbose: false
          customCommand: "run package-release"

    - task: ms-devlabs.vsts-developer-tools-build-tasks.publish-extension-build-task.PublishExtension@1
      displayName: "Publish Extension"
      inputs:
          connectedServiceName: Marketplace cschleiden
          fileType: vsix
          vsixFile: "cschleiden.estimate-*.vsix"
          updateTasksVersion: false
